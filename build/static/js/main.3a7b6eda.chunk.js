(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,n){e.exports=n(387)},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(50),i=n.n(r),c=n(23),s=n(24),o=n(32),u=n(31),p=n(33),m=n(399),d=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,{color:"purple",inverted:!0,textAlign:"center",size:"large"},l.a.createElement(m.a.Header,null,l.a.createElement(m.a.Row,null,l.a.createElement(m.a.HeaderCell,{colSpan:"2"},"Current settings"))),l.a.createElement(m.a.Body,null,l.a.createElement(m.a.Row,null,l.a.createElement(m.a.Cell,null,"Prepare:"),l.a.createElement(m.a.Cell,null,this.props.prepareTime+" seconds")),l.a.createElement(m.a.Row,null,l.a.createElement(m.a.Cell,null,"Climbing:"),l.a.createElement(m.a.Cell,null,this.props.timeLeft+" seconds")),l.a.createElement(m.a.Row,null,l.a.createElement(m.a.Cell,null,"Resting:"),l.a.createElement(m.a.Cell,null,this.props.initialRestingDuration+" seconds")),l.a.createElement(m.a.Row,null,l.a.createElement(m.a.Cell,null,"Cycles:"),l.a.createElement(m.a.Cell,null,this.props.cycles/2+" cycles"))))}}]),t}(l.a.Component),h=n(198),y=n(398),C=n(388),b=n(397),f=n(396),E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).open=function(){return n.setState({open:!0})},n.close=function(){return n.setState({open:!1})},n.handleSubmit=function(){n.close(),n.props.handleSubmit(n.state)},n.handleChange=function(e,t){var a=t.name,l=t.value;return n.setState(Object(h.a)({},a,Number(l)))},n.state={prepMinutes:0,prepSeconds:5,climbMinutes:2,climbSeconds:0,restMinutes:2,restSeconds:0,cycles:4,reduceRestByPercent:50,open:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{open:this.state.open,onClose:this.close,trigger:l.a.createElement(C.a,{onClick:this.open,basic:!0,color:"purple",size:"massive",fluid:!0,circular:!0},"Change settings"),centered:!1,size:"tiny"},l.a.createElement(y.a.Header,null,"Settings:"),l.a.createElement(y.a.Content,null,l.a.createElement(b.a,{size:"small",unstackable:!0,widths:"equal",onSubmit:this.handleSubmit},l.a.createElement(b.a.Group,{inline:!0},l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Preparation: ")),l.a.createElement(b.a.Field,null,l.a.createElement(f.a,{name:"prepMinutes",placeholder:this.state.prepMinutes+" min",type:"tel",onChange:this.handleChange})),l.a.createElement(b.a.Field,null,l.a.createElement(f.a,{name:"prepSeconds",placeholder:this.state.prepSeconds+" sec",type:"tel",onChange:this.handleChange}))),l.a.createElement(b.a.Group,{inline:!0},l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Climbing: ")),l.a.createElement(b.a.Field,null,l.a.createElement(f.a,{name:"climbMinutes",placeholder:this.state.climbMinutes+" min",type:"tel",onChange:this.handleChange})),l.a.createElement(b.a.Field,null,l.a.createElement(f.a,{name:"climbSeconds",placeholder:this.state.climbSeconds+" sec",type:"tel",onChange:this.handleChange}))),l.a.createElement(b.a.Group,{inline:!0},l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Resting: ")),l.a.createElement(b.a.Field,null,l.a.createElement(f.a,{name:"restMinutes",placeholder:this.state.restMinutes+" min",type:"tel",onChange:this.handleChange})),l.a.createElement(b.a.Field,null,l.a.createElement(f.a,{name:"restSeconds",placeholder:this.state.restSeconds+" sec",type:"tel",onChange:this.handleChange}))),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Input,{fluid:!0,name:"cycles",label:"Cycles:",placeholder:this.state.cycles,onChange:this.handleChange}),l.a.createElement(b.a.Input,{fluid:!0,name:"reduceRestByPercent",label:"Cut rest by % each cycle",placeholder:this.state.reduceRestByPercent+"%",onChange:this.handleChange})),l.a.createElement(C.a,{type:"submit",color:"blue"},"Submit"))))}}]),t}(l.a.Component),g=(n(385),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="#A333C8";return"Climbing"===this.props.climberActivity?e="#f00":this.props.isPauseActive&&(e="#6ec412"),l.a.createElement("div",null,l.a.createElement(m.a,{color:"purple",key:"timerDisplay",inverted:!0,textAlign:"center",size:"large"},l.a.createElement(m.a.Body,null,l.a.createElement(m.a.Row,null,l.a.createElement(m.a.Cell,{colSpan:"3"},"Cycle: ",Math.ceil(this.props.currentCycleIndex/2)||1,"/",this.props.lastCycleIndex/2)),l.a.createElement(m.a.Row,null,l.a.createElement(m.a.Cell,{colSpan:"3"},this.props.climberActivity)))),l.a.createElement("div",{id:"timerSecondsDisplay",style:{backgroundColor:e},onClick:this.props.setPause},Math.abs(this.props.secondsLeft)))}}]),t}(l.a.Component)),v=window.audioContext||window.AudioContext||window.webkitAudioContexts,S=function(){function e(){Object(c.a)(this,e),this.AudioContext=new v,this.AudioContext.type="triangle"}return Object(s.a)(e,[{key:"start",value:function(e){var t=this.AudioContext.createOscillator(),n=this.AudioContext.createGain();t.connect(n),n.connect(this.AudioContext.destination),n.gain.value=1,t.noteOn&&t.noteOn(0),t.start&&t.start(),setTimeout(function(){t.noteOff&&t.noteOff(0),t.stop&&t.stop()},e)}}]),e}(),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).setPause=function(){n.setState({pause:!n.state.pause,endCycleAt:Date.now()-1e3*n.state.secondsLeft,currentTime:Date.now()})},n.close=function(){return n.setState({open:!1})},n.resetTimer=function(){n.setState({endCycleAt:Date.now()+1e3*n.props.prepareTime,currentTime:Date.now(),secondsLeft:n.props.prepareTime,restingDuration:1e3*n.props.initialRestingDuration,climberActivity:"Prepare",currentCycleIndex:0,lastCycleIndex:n.props.cycles,open:!0,pause:!1})},n.beepAndVibrate=function(){n.state.secondsLeft<=0?(n.beeper.start(600),navigator.vibrate(700),n.changeActivity()):n.state.secondsLeft<=3&&(n.beeper.start(250),navigator.vibrate(250))},n.countdown=function(){setTimeout(function(){n.setState({currentTime:Date.now(),secondsLeft:Math.ceil((n.state.endCycleAt-n.state.currentTime)/1e3)})},100)},n.changeActivity=function(){var e=["Prepare","Climbing","Resting","Finished"];if(n.state.currentCycleIndex+1===n.state.lastCycleIndex)n.close();else if((n.state.currentCycleIndex+1)%2!==0)n.setState({endCycleAt:Date.now()+1e3*n.props.timeLeft,currentTime:Date.now(),secondsLeft:Math.ceil((n.state.endCycleAt-n.state.currentTime)/1e3),climberActivity:e[1],currentCycleIndex:n.state.currentCycleIndex+1});else{var t=n.state.restingDuration,a=Math.round(t-t*(n.props.reduceRestByPercent/100))||1;n.setState({endCycleAt:Date.now()+t,currentTime:Date.now(),secondsLeft:Math.ceil((n.state.endCycleAt-n.state.currentTime)/1e3),restingDuration:a,climberActivity:e[2],currentCycleIndex:n.state.currentCycleIndex+1})}},n.beeper=new S,n.state={endCycleAt:Date.now()+1e3*n.props.prepareTime,currentTime:Date.now(),secondsLeft:n.props.prepareTime,restingDuration:1e3*n.props.initialRestingDuration,climberActivity:"Prepare",currentCycleIndex:0,lastCycleIndex:n.props.cycles,open:!1,pause:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.open&&(this.state.pause||(t.secondsLeft!==this.state.secondsLeft&&this.beepAndVibrate(),this.countdown()))}},{key:"render",value:function(){return l.a.createElement(y.a,{open:this.state.open,onClose:this.close,trigger:l.a.createElement(C.a,{onClick:this.resetTimer,color:"green",size:"massive",fluid:!0,circular:!0},"Start")},l.a.createElement(y.a.Header,null,"Interval",l.a.createElement(C.a,{inverted:!0,circular:!0,color:"red",floated:"right",attached:"bottom",onClick:this.close},"Close")),l.a.createElement(y.a.Content,null,l.a.createElement(g,{lastCycleIndex:this.state.lastCycleIndex,currentCycleIndex:this.state.currentCycleIndex,climberActivity:this.state.climberActivity,secondsLeft:this.state.secondsLeft,setPause:this.setPause,isPauseActive:this.state.pause})))}}]),t}(l.a.Component),O=(n(386),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleDataFromSettings=function(e){var t=60*e.prepMinutes+e.prepSeconds,a=60*e.climbMinutes+e.climbSeconds,l=60*e.restMinutes+e.restSeconds;n.setState({prepareTime:t,timeLeft:a,initialRestingDuration:l,reduceRestByPercent:e.reduceRestByPercent,cycles:2*e.cycles})},n.state={prepareTime:5,timeLeft:120,initialRestingDuration:120,reduceRestByPercent:50,cycles:8},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"mainContainer"},l.a.createElement(d,{prepareTime:this.state.prepareTime,timeLeft:this.state.timeLeft,initialRestingDuration:this.state.initialRestingDuration,reduceRestByPercent:this.state.reduceRestByPercent,cycles:this.state.cycles}),l.a.createElement(E,{handleSubmit:this.handleDataFromSettings}),l.a.createElement("br",null),l.a.createElement(w,{prepareTime:this.state.prepareTime,timeLeft:this.state.timeLeft,initialRestingDuration:this.state.initialRestingDuration,reduceRestByPercent:this.state.reduceRestByPercent,cycles:this.state.cycles}))}}]),t}(l.a.Component));i.a.render(l.a.createElement(O,null),document.querySelector("#root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.3a7b6eda.chunk.js.map